/* 
 * ---------------------------------------- *
 * jSimple Clock                            *
 * JavaScript                               *
 * v1.0.1                                   *
 * Matt O'Neill                             *
 * ---------------------------------------- *
 */

$.fn.jSC = function (e) { function s(e) { return e < 10 ? e = "0" + e : e } function o(e) { if (e > 12) { e -= 12 } else if (e === 0) { e = 12 } return e } var t = { digital: false, theme: "default", date: false }; var n = '<div class="analog"><span class="face" /><div class="hands"><div class="first-hand"><span /></div><div class="second-hand"><span /></div><div class="third-hand"><span /></div></div></div>', r = '<div class="digital"><div class="h">00</div><div class="m">00</div><div class="s">00</div></div>', i = '<div class="date"><span class="dy"></span><span class="dt"></span><span class="mo"></span><span class="yr"></span></div>'; return this.each(function () { function h() { if (u.theme != undefined || u.theme != "default") { f.addClass(u.theme) } if (!u.digital) { f.append(n); a.$analogClock = f.find(".analog"), a.$fHnd = f.find(".analog .first-hand"); a.$sHnd = f.find(".analog .second-hand"); a.$tHnd = f.find(".analog .third-hand"); a.$analogClock.fadeIn() } else { f.append(r); a.h = f.find(".h"); a.m = f.find(".m"); a.s = f.find(".s") } if (u.date) { f.append(i); $dtCon = f.find(".date"); a.$dy = $dtCon.children(".dy"); a.$dt = $dtCon.children(".dt"); a.$mo = $dtCon.children(".mo"); a.$yr = $dtCon.children(".yr") } p() } function p() { setTimeout(function () { p() }, 500); c = new Date; u.digital ? v(c) : d(c); if (u.date) { m(c) } } function d(e) { analogMins = s(e.getMinutes()) * 6; analogSecs = s(e.getSeconds()) * 6; analogHours = o(s(e.getHours())) * 30 + s(e.getMinutes() / 60) * 15; a.$fHnd.css({ transform: "rotate(" + analogHours + "deg)", "-webkit-transform": "rotate(" + analogHours + "deg)", "-ms-transform": "rotate(" + analogHours + "deg)", "-sand-transform": "rotate(" + analogHours + "deg)" }); a.$sHnd.css({ transform: "rotate(" + analogMins + "deg)", "-webkit-transform": "rotate(" + analogMins + "deg)", "-ms-transform": "rotate(" + analogMins + "deg)", "-sand-transform": "rotate(" + analogMins + "deg)" }); a.$tHnd.css({ transform: "rotate(" + analogSecs + "deg)", "-webkit-transform": "rotate(" + analogSecs + "deg)", "-ms-transform": "rotate(" + analogSecs + "deg)", "-sand-transform": "rotate(" + analogSecs + "deg)" }) } function v(e) { a.h.text(s(e.getHours())); a.m.text(s(e.getMinutes())); a.s.text(s(e.getSeconds())) } function m(e) { a.$dy.text(e.toString().split(" ")[0]); a.$dt.text(e.getUTCDate()); a.$mo.text(e.toString().split(" ")[1].split(" ")[0]); a.$yr.text(e.getFullYear()) } var u = $.extend({}, t, e), a = {}, f = $(this), l, c; h() }) }